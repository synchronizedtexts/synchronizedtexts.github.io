var g_details=true;var g_pageBreaks=true;var g_detailSpans=null;var g_pageBreakSpans=null;var g_detailsPar=document.getElementById("detailsPar");var g_detailsOutlineColor="#f00";var g_pageBreakColor="#0ff";var g_bodyBackgroundColor="#333";var g_pageBackgroundColor="#ccc";var g_pageTextColor="#000";var g_pageOutlineColor="#000";var g_detailsBackgroundColor="#ff0";var g_titleBarBackgroundColor="#000";var g_detailsDivBackgroundColor="#ccc";var g_detailsDivTextColor="#000";var g_swap_spans=null;var g_swap_cn="";var g_swap_count=0;var g_pair=null;var g_grabbed=null;var g_offsetX=0;var g_offsetY=0;var g_touchstart_x=0;var g_touchstart_y=0;var g_grabbablePos_x=0;var g_grabbablePos_y=0;var g_hc=null;var g_spans=document.getElementsByTagName("span");var g_spansLength=g_spans.length;var g_lastFocus=-1;var g_re=/p[0-9]+/;var g_fontSize=1;for(var i=0;i<g_spansLength;i++){if(g_spans[i].className.indexOf("_")!==-1){g_spans[i].addEventListener("focus",handleFocus);g_spans[i].addEventListener("blur",handleBlur);g_spans[i].addEventListener("keypress",handleKeypress);g_spans[i].setAttribute("tabindex",0)}}document.getElementById("helpLink").addEventListener("click",handleHelp);document.getElementById("helpLink").addEventListener("keypress",handleKeypress);document.getElementById("detailsLink").addEventListener("click",handleDetailsLink);document.getElementById("detailsLink").addEventListener("keypress",handleKeypress);document.getElementById("detailsLink").addEventListener("dblclick",handleDblClick);document.getElementById("goLink").addEventListener("click",handleGoLink);document.getElementById("goLink").addEventListener("keypress",handleKeypress);document.getElementsByTagName("body").item(0).addEventListener("keyup",handleBodyKeyup);document.getElementsByTagName("body").item(0).addEventListener("click",handleBodyClick);document.getElementById("width_select").addEventListener("change",handleWidthSelect);document.getElementById("size_select").addEventListener("change",handleSizeSelect);document.getElementById("details_select").addEventListener("change",handleDetailsSelect);document.getElementById("colors_select").addEventListener("change",handleColorsSelect);document.getElementById("detailsCloseButton").addEventListener("click",handleCloseButton);document.getElementById("detailsHelpButton").addEventListener("click",handleHelpButton);document.getElementById("details_width_select").addEventListener("change",handleDetailsWidthSelect);document.getElementById("details_height_select").addEventListener("change",handleDetailsHeightSelect);document.getElementById("details_width_select").selectedIndex=5;document.getElementById("details_height_select").selectedIndex=8;document.getElementById("width_select").selectedIndex=15;document.getElementById("size_select").selectedIndex=3;document.getElementById("details_select").selectedIndex=1;document.getElementById("colors_select").selectedIndex=3;function handleDetailsLink(a){document.getElementById("winDialog_details").style.display="block";document.getElementById("titleBar").focus()}function handleDblClick(c){var b=window.screen.width;var d=window.screen.height;var a=document.getElementById("winDialog_details");a.style.left=(b/2-a.getBoundingClientRect().width/2)+"px";a.style.top=(d/2-a.getBoundingClientRect().height/2)+"px"}function handleGoLink(g){var f=prompt("Go to location:","location");if(f===null){return false}else{f=f.trim();if(f.charAt(0)==="0"){location.href="#p0";g_spans[0].focus();return}var c=/^[0-9]+(\.)?([0-9]+)?$/;if(c.test(f)===true){var b=f.split(".");if(b.length>1){var a=document.getElementsByClassName("p"+b[0]+"_"+b[1]).item(0);if(a!==null&&a!==undefined){location.href="#p"+b[0];a.focus()}else{var a=document.getElementById("p"+b[0]);if(a!==null){location.href="#"+a.id;document.getElementById("gp"+b[0]).getElementsByTagName("SPAN").item(0).focus();alert("Could not find that exact location, but found beginning of paragraph "+b[0]+".")}else{alert("Could not find that location.")}}}else{var a=document.getElementById("p"+b[0]);if(a!==null){location.href="#"+a.id;var d=document.getElementById("gp"+b[0]).getElementsByTagName("SPAN").item(0);d.focus()}else{alert("Could not find that location.")}}}else{alert("The location input is not well-formed.\n   Example 1: 22\n   Example 2: 22.57\n")}}}function handleBodyClick(a){if(a.target.className==="controlBar"){if(a.pageX>document.getElementById("colors_select").getBoundingClientRect().left){if(g_lastFocus>-1&&g_lastFocus<(g_spansLength-1)){g_spans[g_lastFocus+1].focus()}else{if(g_lastFocus===(g_spansLength-1)){g_spans[g_lastFocus].focus()}}}else{if(g_lastFocus>0&&g_lastFocus<=g_spansLength){g_spans[g_lastFocus-1].focus()}else{if(g_lastFocus===0){g_spans[g_lastFocus].focus()}}}}else{if(a.target.id==="titleBar"){a.target.focus()}else{if(a.target.className==="closeIcon"){if(a.target.parentNode.parentNode.id.indexOf("winDialog_")>-1){a.target.parentNode.parentNode.style.display="none"}window.focus()}else{if(a.target.id!=="detailsHelpButton"){if(a.pageX<10){if(g_lastFocus>0&&g_lastFocus<=g_spansLength){g_spans[g_lastFocus-1].focus()}else{if(g_lastFocus===0){g_spans[g_lastFocus].focus()}}}else{if(a.pageX>document.body.clientWidth-20){if(g_lastFocus>-1&&g_lastFocus<(g_spansLength-1)){g_spans[g_lastFocus+1].focus()}else{if(g_lastFocus===(g_spansLength-1)){g_spans[g_lastFocus].focus()}}}}}}}}}function handleBodyKeyup(a){if(a.which===100||a.which===68){document.getElementById("detailsLink").focus()}else{if(a.which===109||a.which===77){document.getElementById("details_select").focus()}else{if(a.which===113||a.which===81){handleHelp()}else{if(a.which===103||a.which===71){document.getElementById("goLink").focus()}else{if(a.which===70){moveFocusTo(a.target.tagName,5)}else{if(a.which===74){moveFocusTo(a.target.tagName,10)}else{if(a.which===82){moveFocusTo(a.target.tagName,-5)}else{if(a.which===75){moveFocusTo(a.target.tagName,-10)}else{if(a.which===72){moveFocusTo(a.target.tagName,-1)}else{if(a.which===76){moveFocusTo(a.target.tagName,1)}else{if(a.which===67){document.getElementById("colors_select").focus()}else{if(a.which===83){handleSwapFocus(a)}else{if(a.which===84){document.getElementById("size_select").focus()}else{if(a.which===87){document.getElementById("width_select").focus()}}}}}}}}}}}}}}}function handleSizeSelect(c){var a=c.target.selectedIndex;var b=["0.7","0.8","0.9","1","1.1","1.2","1.3","1.4","1.5"];document.body.style.fontSize=b[a]+"em"}function handleSwapFocus(c){var b=document.activeElement;if(b){if(g_swap_cn!==b.className){g_swap_cn=b.className;g_swap_spans=document.querySelectorAll("span[class='"+g_swap_cn+"']");for(var a=0;a<g_swap_spans.length;a++){if(g_swap_spans[a]===b){g_swap_count=a}}}if(g_swap_cn.indexOf("_")>-1){if(g_swap_spans.length>1){while(g_swap_spans[g_swap_count]===b){g_swap_count++}if(g_swap_count>=g_swap_spans.length){g_swap_count=0}g_swap_spans[g_swap_count].focus()}else{alert("No matching counterpart.")}}}}function handleHelp(){if(g_hc===null){g_hc=createHelpText()}var a=g_hc.replace(/<br \/>/g,"\n");var a=a.replace(/&nbsp;/g," ");var a=a.replace(/&#8776;/g,"â‰ˆ");var a=a.replace(/<\/?[b|i]>/g,"");alert(a)}function createHelpText(){var a="<b>Help for Synchronized Text</b><br /><br />";a+="<b>Basic Usage</b><br /><br />";a+="Click on words to highlight and sync languages. Details window shows extra information about some highlighted word(s). Markers indicate which words have associated extra information. Move Details window either with mouse (click and drag on titlebar) or keyboard (use arrow keys when titlebar has focus).";a+="<br /><br /><b>Keyboard Shortcuts</b><br /><br />";a+="c &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put focus on Colors selection<br />";a+="d &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put focus on Details button<br />";a+="f &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  forward focus 5 (German) word tokens<br />";a+="g &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put focus on Go button<br />";a+="h &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put focus on previous word token<br />";a+="j &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reverse focus 10 (German) word tokens<br />";a+="k &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; forward focus 10 (German) word tokens<br />";a+="l &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put focus on next word token<br />";a+="m&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put focus on Markers selection<br />";a+="q &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; show this Help in a modal Alert box<br />";a+="r &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reverse focus 5 (German) word tokens<br />";a+="s &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  put focus on counterpart token<br />";a+="t &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  put focus on Text Size selection<br />";a+="w &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put focus on Width selection<br /><br />";a+="left arrow &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; move focused Details window to the left<br />";a+="right arrow &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;move focused Details window to the right<br />";a+="Tab&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put focus on next focusable element (e.g., highlight next word)<br />";a+="Shift + Tab&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put focus on previous focusable element<br />";a+="<br /><br /><b>Tips</b><br /><br />";a+="* If a keyboard is not available for focus navigation, the focus can be controlled by clicking|touching an empty area of the black control bar or by clicking|touching the extreme left or right edge of the screen.<br />";a+="* Double click the Details button to center the Details window on screen.<br />";a+="<br /><br /><b>Credits</b><br /><br />";a+="Copyright 2016 by Synctexts. All rights reserved.<br />";a+="License: Creative Commons Attribution-NonCommercial-ShareAlike.<br />";a+="This software provides no guarantees or warranties of any kind.<br />";a+="<br /><br />";return a}function handleCloseButton(a){document.getElementById("winDialog_details").style.display="none"}function handleHelpButton(a){if(g_hc===null){g_hc=createHelpText()}g_detailsPar.innerHTML=g_hc}function handleFocus(c){var b=c.target;g_pair=document.querySelectorAll("span[class='"+b.className+"']");for(var a=0;a<g_pair.length;a++){if(g_pair[a]===b){g_pair[a].style.outline="solid 4px "+g_detailsOutlineColor}else{g_pair[a].style.outline="solid 2px "+g_detailsOutlineColor}g_pair[a].style.backgroundColor=g_detailsBackgroundColor}showPopup(b);for(var a=0;a<=g_spansLength;a++){if(b===g_spans[a]){g_lastFocus=a;return}}g_lastFocus=-1}function handleBlur(b){for(var a=0;a<g_pair.length;a++){if(g_details===true&&g_pair[a].classList.contains("dtl")){g_pair[a].style.outline="dashed 2px "+g_detailsOutlineColor}else{g_pair[a].style.outline="solid 2px transparent"}g_pair[a].style.backgroundColor="transparent"}}function handleKeypress(a){if(a.which===13){a.preventDefault();if(a.target.id==="helpLink"){handleHelp()}else{if(a.target.id==="detailsLink"){handleDetailsLink()}else{if(a.target.id==="goLink"){handleGoLink()}else{if(a.target.id==="spanElemTextContent"){handleSpanElem_textContentClick(a)}}}}}}function showPopup(d){var f=d.className;if(f.indexOf(" spaced")>-1){f=f.replace(" spaced","")}var b=f.indexOf(" dtl");var c="";if(b>-1){var e=f.substring(0,b);var a=e.split("_");if(g_re.test(a[0])===true){c="Location:</b> "+a[0].substr(1)+"."+a[1]}else{c="Location:</b> "+a[1]}g_detailsPar.innerHTML="<b title='The highlighted fragment, word, or phrase'>Item:</b> <div id='"+f+"' class='spanElemTextContent' title='Click to put focus on item' tabindex='0'>"+d.textContent+"</div><br><b title='Approximate location'>"+c+"<br><br>"+document.getElementById(e).innerHTML}else{var a=f.split("_");if(g_re.test(a[0])===true){c="Location:</b> "+a[0].substr(1)+"."+a[1]}else{c="Location:</b> "+a[1]}g_detailsPar.innerHTML="<b title='The highlighted fragment, word, or phrase'>Item:</b> <div id='"+f+"' class='spanElemTextContent' title='Click to put focus on item' tabindex='0'>"+d.textContent+"</div><br><b title='Approximate location'>"+c+"<br><br>"}document.getElementById(f).addEventListener("click",handleSpanElem_textContentClick);document.getElementById(f).addEventListener("keypress",handleSpanElem_textContentKeypress)}function handleSpanElem_textContentClick(c){var b=document.querySelectorAll("span[class='"+c.target.id+"']");for(var a=0;a<b.length;a++){if(b[a].textContent===c.target.textContent){b[a].focus();break}}}function handleSpanElem_textContentKeypress(c){if(c.which===13){var b=document.querySelectorAll("span[class='"+c.target.id+"']");for(var a=0;a<b.length;a++){if(b[a].textContent===c.target.textContent){b[a].focus();break}}}}function handleWidthSelect(g){var h="#"+findPageInViewport();var d=g.target.selectedIndex;var b=g.target.options[d].value;var a=document.querySelectorAll("div[class='eSide']");var k=document.querySelectorAll("div[class='gSide']");var f=b+"em";for(var c=0;c<a.length;c++){a[c].style.width=f;k[c].style.width=f}location.href=h}function findPageInViewport(){var b=null;if(document.documentElement.scrollTop>0){b=document.documentElement.scrollTop}else{b=document.body.scrollTop}var a=document.getElementsByClassName("gePar");for(var c=0;c<a.length;c++){if(a[c].offsetTop>=b){return a[c].id}}return location.href}function handleDetailsWidthSelect(d){var c=d.target.selectedIndex;if(c===0){return}var b=d.target.options[c].value;var a=document.getElementById("detailsDiv");a.style.width=b+"em"}function handleDetailsHeightSelect(d){var c=d.target.selectedIndex;if(c===0){return}var b=d.target.options[c].value;var a=document.getElementById("detailsDiv");a.style.height=b+"em"}function handleDetailsSelect(c){var a=c.target.selectedIndex;if(a===0){g_details=false;if(g_detailSpans===null){g_detailSpans=document.querySelectorAll("span[class*='dtl']");g_detailSpansLength=g_detailSpans.length}for(var b=0;b<g_detailSpansLength;b++){g_detailSpans[b].style.outline="dashed 2px transparent"}}else{if(a===1){g_details=true;if(g_detailSpans===null){g_detailSpans=document.querySelectorAll("span[class*='dtl']");g_detailSpansLength=g_detailSpans.length}for(var b=0;b<g_detailSpansLength;b++){g_detailSpans[b].style.outline="dashed 2px "+g_detailsOutlineColor}}}}function handleColorsSelect(f){var b=f.target.selectedIndex;if(b===0){g_detailsOutlineColor="#aa0";g_bodyBackgroundColor="#000";g_pageTextColor="#aaa";g_detailsBackgroundColor="#00a";g_pageBreakColor="#f00";g_titleBarBackgroundColor="#666";g_detailsDivBackgroundColor="#000";g_detailsDivTextColor="#aaa"}else{if(b===1){g_detailsOutlineColor="#cc0";g_bodyBackgroundColor="#000";g_pageTextColor="#ccc";g_detailsBackgroundColor="#00c";g_pageBreakColor="#f00";g_titleBarBackgroundColor="#666";g_detailsDivBackgroundColor="#000";g_detailsDivTextColor="#ccc"}else{if(b===2){g_detailsOutlineColor="#ff0";g_bodyBackgroundColor="#000";g_pageTextColor="#fff";g_detailsBackgroundColor="#00f";g_pageBreakColor="#f00";g_titleBarBackgroundColor="#666";g_detailsDivBackgroundColor="#000";g_detailsDivTextColor="#fff"}else{if(b===3){g_detailsOutlineColor="#ff8040";g_bodyBackgroundColor="#ccc";g_pageTextColor="#000";g_detailsBackgroundColor="#ff0";g_pageBreakColor="#0ff";g_titleBarBackgroundColor="#000";g_detailsDivBackgroundColor="#ccc";g_detailsDivTextColor="#000"}else{if(b===4){g_detailsOutlineColor="#ddd";g_bodyBackgroundColor="#999";g_pageTextColor="#000";g_detailsBackgroundColor="#aa0";g_pageBreakColor="#0ff";g_titleBarBackgroundColor="#000";g_detailsDivBackgroundColor="#999";g_detailsDivTextColor="#000"}else{if(b===5){g_detailsOutlineColor="#333";g_bodyBackgroundColor="#666";g_pageTextColor="#000";g_detailsBackgroundColor="#999";g_pageBreakColor="#0ff";g_titleBarBackgroundColor="#000";g_detailsDivBackgroundColor="#666";g_detailsDivTextColor="#000"}else{if(b===6){g_detailsOutlineColor="#00f";g_bodyBackgroundColor="#fff";g_pageTextColor="#000";g_detailsBackgroundColor="#0ff";g_pageBreakColor="#f0f";g_titleBarBackgroundColor="#000";g_detailsDivBackgroundColor="#fff";g_detailsDivTextColor="#000"}else{if(b===7){g_detailsOutlineColor="#f00";g_bodyBackgroundColor="#fff";g_pageTextColor="#000";g_detailsBackgroundColor="#ff0";g_pageBreakColor="#f00";g_titleBarBackgroundColor="#000";g_detailsDivBackgroundColor="#fff";g_detailsDivTextColor="#000"}else{if(b===8){g_detailsOutlineColor="#0c0";g_bodyBackgroundColor="#fff";g_pageTextColor="#000";g_detailsBackgroundColor="#0f0";g_pageBreakColor="#f00";g_titleBarBackgroundColor="#000";g_detailsDivBackgroundColor="#fff";g_detailsDivTextColor="#000"}else{if(b===9){g_detailsOutlineColor="#f00";g_bodyBackgroundColor="#faf";g_pageTextColor="#000";g_detailsBackgroundColor="#f6f";g_pageBreakColor="#f0f";g_titleBarBackgroundColor="#f00";g_detailsDivBackgroundColor="#faf";g_detailsDivTextColor="#000"}else{if(b===10){g_detailsOutlineColor="#060";g_bodyBackgroundColor="#aaffaa";g_pageTextColor="#000";g_detailsBackgroundColor="#0f0";g_pageBreakColor="#f00";g_titleBarBackgroundColor="#090";g_detailsDivBackgroundColor="#afa";g_detailsDivTextColor="#000"}else{if(b===11){g_detailsOutlineColor="#ff4020";g_bodyBackgroundColor="#ffb090";g_pageTextColor="#000";g_detailsBackgroundColor="#ff0";g_pageBreakColor="#f00";g_titleBarBackgroundColor="#ff4020";g_detailsDivBackgroundColor="#ffb090";g_detailsDivTextColor="#000"}}}}}}}}}}}}if(g_details===true){if(g_detailSpans===null){g_detailSpans=document.querySelectorAll("span[class*='dtl']");g_detailSpansLength=g_detailSpans.length}for(var c=0;c<g_detailSpansLength;c++){g_detailSpans[c].style.outline="dashed 2px "+g_detailsOutlineColor}}if(g_pageBreaks===true){if(g_pageBreakSpans===null){g_pageBreakSpans=document.querySelectorAll("span[class='pb']");g_pageBreakSpansLength=g_pageBreakSpans.length}for(var c=0;c<g_pageBreakSpansLength;c++){g_pageBreakSpans[c].style.backgroundColor=g_pageBreakColor}}document.getElementsByTagName("BODY").item(0).style.backgroundColor=g_bodyBackgroundColor;document.getElementsByTagName("BODY").item(0).style.color=g_pageTextColor;var a=document.getElementById("titleBar");var d=document.getElementById("winDialog_details");a.style.backgroundColor=g_titleBarBackgroundColor;a.style.borderColor=g_titleBarBackgroundColor;d.style.borderColor=g_titleBarBackgroundColor;d.style.backgroundColor=g_detailsDivBackgroundColor;d.style.color=g_detailsDivTextColor}function moveFocusTo(b,c){if(b!=="SPAN"){if(g_lastFocus<0){g_lastFocus=0}else{if(g_lastFocus>=g_spansLength){g_lastFocus=g_spansLength-1}}g_spans[g_lastFocus].focus();return}var a=g_lastFocus+c;if(a<0){a=0}else{if(a>=g_spansLength){a=g_spansLength-1}}if(g_spans[a].hasAttribute("tabindex")){g_spans[a].focus()}else{if(c>0){g_lastFocus++;if(g_lastFocus<0){g_lastFocus=0}else{if(g_lastFocus>=g_spansLength){g_lastFocus=g_spansLength-1}}moveFocusTo(b,1)}else{g_lastFocus--;if(g_lastFocus<0){g_lastFocus=0}else{if(g_lastFocus>=g_spansLength){g_lastFocus=g_spansLength-1}}moveFocusTo(b,-1)}}}function getParaNum(b){var a=b.parentNode;while(a.tagName!=="P"){a=a.parentNode}return a.id.substr(2)}document.body.onmousedown=grabIt;document.body.onmousemove=dragIt;document.body.onmouseup=dropIt;document.body.onkeydown=moveIt;function moveIt(b){if(document.activeElement.id==="searchTxtbx"){return}if(b.which===13){if(b.target.className==="closeIcon"){if(b.target.parentNode.parentNode.id.indexOf("winDialog_")>-1){b.target.parentNode.parentNode.style.display="none"}window.focus()}}else{if(b.which===37&&b.target.id==="titleBar"){b.preventDefault();b.stopPropagation();var a=40;if(b.altKey==true){a=10}if(b.target.parentNode.style.position=="fixed"){b.target.parentNode.style.left=(b.target.getBoundingClientRect().left-a)+"px"}else{b.target.parentNode.style.left=(b.target.getBoundingClientRect().left-a)+window.pageXOffset+"px"}}else{if(b.which==38&&b.target.classList.contains("grabbable")){b.preventDefault();b.stopPropagation();var a=30;if(b.altKey==true){a=10}b.target.parentNode.style.top=(b.target.getBoundingClientRect().top-a)+"px"}else{if(b.which==39&&b.target.classList.contains("grabbable")){b.preventDefault();b.stopPropagation();var a=15;if(b.altKey==true){a=0}if(b.target.parentNode.style.position=="fixed"){b.target.parentNode.style.left=(b.target.getBoundingClientRect().left+a)+"px"}else{b.target.parentNode.style.left=(b.target.getBoundingClientRect().left+a)+window.pageXOffset+"px"}}else{if(b.which==40&&b.target.classList.contains("grabbable")){b.preventDefault();b.stopPropagation();var a=15;if(b.altKey==true){a=0}b.target.parentNode.style.top=(b.target.getBoundingClientRect().top+a)+"px"}}}}}}function grabIt(b){var a=b.target;if(b.target.className==="closeIcon"){b.preventDefault()}if(b.target.classList.contains("titlebarTitle")){b.preventDefault();a=b.target.parentNode;a.focus()}if(a.classList.contains("grabbable")){g_grabbed=document.getElementById(a.parentNode.id);g_offsetX=b.pageX-g_grabbed.getBoundingClientRect().left+window.pageXOffset;g_offsetY=b.pageY-g_grabbed.getBoundingClientRect().top+window.pageYOffset}}function dragIt(a){if(g_grabbed){g_grabbed.style.left=(a.pageX-g_offsetX)+window.pageXOffset+"px";g_grabbed.style.top=(a.pageY-g_offsetY)+window.pageYOffset+"px"}}function dropIt(a){g_grabbed=null}function enableTouch(a){a.addEventListener("touchstart",handleTouchStart);a.addEventListener("touchmove",handleTouchMove);a.addEventListener("touchend",handleTouchEnd);a.addEventListener("touchcancel",handleTouchCancel)}function handleTouchStart(a){g_touchstart_x=parseInt(a.changedTouches[0].clientX);g_touchstart_y=parseInt(a.changedTouches[0].clientY);g_grabbablePos_x=a.target.parentNode.offsetLeft;g_grabbablePos_y=a.target.parentNode.offsetTop}function handleTouchMove(c){c.preventDefault();var a=parseInt(c.changedTouches[0].clientX)-g_touchstart_x;var b=parseInt(c.changedTouches[0].clientY)-g_touchstart_y;c.target.parentNode.style.left=(g_grabbablePos_x+a)+"px";c.target.parentNode.style.top=(g_grabbablePos_y+b)+"px"}function handleTouchEnd(a){a.target.focus()}function handleTouchCancel(a){}enableTouch(document.getElementById("titleBar"));
